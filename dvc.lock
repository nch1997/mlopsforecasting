schema: '2.0'
stages:
  preprocessing:
    cmd: python src/preprocessing.py
    deps:
    - path: data/data.csv
      md5: d38c0400d911f88c862a2d08dc96fddb
      size: 49028
    - path: src/preprocessing.py
      md5: 5b07b95c96b6efcdf07c1df65a0b59ff
      size: 5405
    outs:
    - path: data/feature_importance.png
      md5: 56175c63ee94cf423b85ead2f9a39cf4
      size: 21517
    - path: data/featureselection.png
      md5: 91f49323e84dfa00020c9a2e1f7b2a08
      size: 69543
    - path: data/preprocess.csv
      md5: ffe5104b90e8d33ad7b6c6aa1330dcc5
      size: 261427
    - path: data/test.csv
      md5: c1976c7d50152b60323190c764d8a703
      size: 52658
    - path: data/train.csv
      md5: ebc32bb6a809cba87936c3a967a5d22e
      size: 208857
  train_tune:
    cmd: python src/train_tune.py
    deps:
    - path: data/train.csv
      md5: ebc32bb6a809cba87936c3a967a5d22e
      size: 208857
    - path: src/train_tune.py
      md5: 922141adb6bea43ba28840873921168a
      size: 7875
    params:
      params.yaml:
        train_tune.n_trials: 10
        train_tune.seed: 20170422
    outs:
    - path: data/tuning.png
      md5: a305869fc3f8aa6b86b4c330342de23c
      size: 48904
    - path: model/tunedmodel0.05.txt
      md5: b894013419238645214e650dcd42fbdc
      size: 36905
    - path: model/tunedmodel0.25.txt
      md5: 1fef39d185a13bf1090608785c4f36ca
      size: 108808
    - path: model/tunedmodel0.5.txt
      md5: 107feeb8a62cec9fdc3724789c3ec33d
      size: 131471
    - path: model/tunedmodel0.75.txt
      md5: b69f2a781ae62c568e672a8815533566
      size: 131856
    - path: model/tunedmodel0.95.txt
      md5: cdb43b5dbf9558ad25958c904ce803fb
      size: 23191
  evaluation:
    cmd: python src/evaluation.py
    deps:
    - path: data/test.csv
      md5: c1976c7d50152b60323190c764d8a703
      size: 52658
    - path: model/tunedmodel0.05.txt
      md5: b894013419238645214e650dcd42fbdc
      size: 36905
    - path: model/tunedmodel0.25.txt
      md5: 1fef39d185a13bf1090608785c4f36ca
      size: 108808
    - path: model/tunedmodel0.5.txt
      md5: 107feeb8a62cec9fdc3724789c3ec33d
      size: 131471
    - path: model/tunedmodel0.75.txt
      md5: b69f2a781ae62c568e672a8815533566
      size: 131856
    - path: model/tunedmodel0.95.txt
      md5: cdb43b5dbf9558ad25958c904ce803fb
      size: 23191
    params:
      params.yaml:
        evaluation.seed: 20170422
    outs:
    - path: data/metrics.json
      md5: 50e558d70931af30490685b9d8a1f916
      size: 100
    - path: data/sampledailyprediciton.png
      md5: 0a4a5a28f2fcf4b3d841508546469109
      size: 96027
